# ====================== BREVITY CONFIGURATION ======================
# Application: URL Shortener Service
# Environment: development | staging | production
# Note: For production, set APP_DEBUG=false and use secure values
# Copy this file to .env and fill in the required values

# ==================== APPLICATION SETTINGS ====================
# Runtime environment (development/staging/production)
APP_ENV=development

# Debug mode (true/false)
APP_DEBUG=true

# URL creation limits
ANON_URL_LIMIT=5      # Max URLs anonymous users can create
AUTH_URL_LIMIT=15     # Max URLs authenticated users can create for free

# ===================== SERVER SETTINGS =====================
SERVER_HOST=0.0.0.0   # Host to bind to
SERVER_PORT=8080      # Port to listen on

# Timeout settings
SERVER_READ_TIMEOUT=10s
SERVER_WRITE_TIMEOUT=10s
SERVER_SHUTDOWN_TIMEOUT=15s

# ==================== DATABASE SETTINGS ====================
# SQLite configuration
DB_SQLITE_PATH=./data/brevity.db
DB_SQLITE_BUSY_TIMEOUT=5000       # In milliseconds
DB_SQLITE_FOREIGN_KEYS=true       # Enable foreign key constraints
DB_SQLITE_JOURNAL_MODE=WAL        # Write-Ahead Logging mode
DB_SQLITE_CACHE_SIZE=-2000        # Cache size in KB (negative for shared cache)

# ==================== SECURITY SETTINGS ====================
# JWT Configuration - Generate strong secrets (min 32 chars)
JWT_ACCESS_SECRET=your_strong_access_secret_here
JWT_ACCESS_EXPIRY=15m             # Access token expiry (15 minutes)
JWT_REFRESH_SECRET=your_strong_refresh_secret_here
JWT_REFRESH_EXPIRY=168h           # Refresh token expiry (7 days)
JWT_RESET_SECRET=your_strong_reset_secret_here
JWT_ISSUER=brevity-service
JWT_SECURE_COOKIE=true            # Set to false for HTTP in development

# ================== EMAIL SETTINGS ===================
EMAIL_PROVIDER=smtp               # smtp or mailgun
SMTP_HOST=smtp.example.com
SMTP_PORT=587                     # 465 for SSL, 587 for TLS
SMTP_USERNAME=your_email@example.com
SMTP_PASSWORD=your_email_password
SMTP_FROM_EMAIL=noreply@example.com
SMTP_FROM_NAME=Brevity Service
SMTP_USE_TLS=true

# ================== Cloudinary SETTINGS ===================
# Required for image uploads
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret

# ================== Storage SETTINGS ===================
STORAGE_MAX_AVATAR_SIZE=5242880   # 5MB in bytes
STORAGE_UPLOAD_DIR=./uploads      # Local storage directory

# ================= LOGGER SETTINGS ==================
LOG_LEVEL=debug                   # debug, info, warn, error
LOG_FORMAT=console                # console or json
LOG_FILE_PATH=./logs/brevity.log  # Path to log file

# ================== CORS SETTINGS ===================
CORS_ENABLED=true
CORS_ALLOW_ORIGINS=*              # Comma-separated domains in production
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_MAX_AGE=12h                  # Preflight cache duration

# =============== RATE LIMIT SETTINGS ================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100           # Requests per window
RATE_LIMIT_WINDOW=1m              # Time window (1 minute)